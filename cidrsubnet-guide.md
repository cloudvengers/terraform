# Terraform cidrsubnet 함수 이해하기

`cidrsubnet(prefix, newbits, netnum)` — CIDR을 더 작은 서브넷으로 쪼개는 함수

- `prefix` — 기준 CIDR (예: `10.0.0.0/16`)
- `newbits` — 넷마스크에 추가할 비트 수
- `netnum` — 몇 번째 서브넷인지 (0부터 시작)

---

## 동작 원리

```
기준: 10.0.0.0/16  (65,536개 IP)

cidrsubnet("10.0.0.0/16", 8, 0)
                          ↑  ↑
                          |  └─ 0번째 서브넷
                          └─ /16 + 8 = /24로 쪼갬

결과: 10.0.0.0/24  (256개 IP)
```

newbits = 8이면 /16을 /24로 쪼개고, 총 256개(2^8)의 서브넷이 생긴다:

```
netnum = 0   →  10.0.0.0/24
netnum = 1   →  10.0.1.0/24
netnum = 2   →  10.0.2.0/24
...
netnum = 255 →  10.0.255.0/24
```

---

## 다른 예시

```
cidrsubnet("10.0.0.0/16", 4, 0)  → 10.0.0.0/20   (16+4=/20, 총 16개 서브넷)
cidrsubnet("10.0.0.0/16", 4, 1)  → 10.0.16.0/20
cidrsubnet("10.0.0.0/16", 4, 2)  → 10.0.32.0/20
```

핵심: `newbits`가 클수록 더 잘게 쪼개고, `netnum`으로 몇 번째 조각을 가져올지 고른다.
